{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const RepostModal=_ref=>{let{item,onClose,onSuccess}=_ref;const[quantity,setQuantity]=useState(item.quantity);const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const token=localStorage.getItem('token');await axios.post(`/api/items/${item.id}/repost`,{quantity:quantity},{headers:{'Authorization':`Bearer ${token}`}});onSuccess();onClose();}catch(error){var _error$response,_error$response$data;alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to repost item');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0,0,0,0.5)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',padding:'2rem',borderRadius:'8px',maxWidth:'400px',width:'90%'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{marginBottom:'1.5rem'},children:[\"Repost: \",item.name]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontWeight:'bold'},children:\"New Quantity *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:quantity,onChange:e=>setQuantity(e.target.value),style:{width:'100%',padding:'0.75rem',border:'1px solid #ddd',borderRadius:'4px'},required:true}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#666',fontSize:'0.9rem',marginTop:'0.5rem'},children:[\"Current: \",item.available_quantity,\"/\",item.quantity,\" available\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,style:{flex:1,padding:'0.75rem',backgroundColor:'#95a5a6',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{flex:1,padding:'0.75rem',backgroundColor:loading?'#95a5a6':'#2ecc71',color:'white',border:'none',borderRadius:'4px',cursor:loading?'not-allowed':'pointer'},children:loading?'Reposting...':'Repost'})]})]})]})});};export default RepostModal;","map":{"version":3,"names":["React","useState","axios","jsxs","_jsxs","jsx","_jsx","RepostModal","_ref","item","onClose","onSuccess","quantity","setQuantity","loading","setLoading","handleSubmit","e","preventDefault","token","localStorage","getItem","post","id","headers","error","_error$response","_error$response$data","alert","response","data","message","style","position","top","left","right","bottom","backgroundColor","display","justifyContent","alignItems","zIndex","children","padding","borderRadius","maxWidth","width","marginBottom","name","onSubmit","fontWeight","type","min","value","onChange","target","border","required","color","fontSize","marginTop","available_quantity","gap","onClick","flex","cursor","disabled"],"sources":["D:/Project/frontend/src/components/RepostModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst RepostModal = ({ item, onClose, onSuccess }) => {\n  const [quantity, setQuantity] = useState(item.quantity);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(`/api/items/${item.id}/repost`, {\n        quantity: quantity\n      }, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      onSuccess();\n      onClose();\n    } catch (error) {\n      alert(error.response?.data?.message || 'Failed to repost item');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      zIndex: 1000\n    }}>\n      <div style={{\n        backgroundColor: 'white',\n        padding: '2rem',\n        borderRadius: '8px',\n        maxWidth: '400px',\n        width: '90%'\n      }}>\n        <h3 style={{ marginBottom: '1.5rem' }}>\n          Repost: {item.name}\n        </h3>\n\n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: '1rem' }}>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 'bold' }}>\n              New Quantity *\n            </label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              value={quantity}\n              onChange={(e) => setQuantity(e.target.value)}\n              style={{ width: '100%', padding: '0.75rem', border: '1px solid #ddd', borderRadius: '4px' }}\n              required\n            />\n            <p style={{ color: '#666', fontSize: '0.9rem', marginTop: '0.5rem' }}>\n              Current: {item.available_quantity}/{item.quantity} available\n            </p>\n          </div>\n\n          <div style={{ display: 'flex', gap: '1rem' }}>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              style={{\n                flex: 1,\n                padding: '0.75rem',\n                backgroundColor: '#95a5a6',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer'\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              style={{\n                flex: 1,\n                padding: '0.75rem',\n                backgroundColor: loading ? '#95a5a6' : '#2ecc71',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: loading ? 'not-allowed' : 'pointer'\n              }}\n            >\n              {loading ? 'Reposting...' : 'Repost'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default RepostModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}