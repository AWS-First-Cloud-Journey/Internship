{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import axios from'axios';// Set API base URL\naxios.defaults.baseURL=process.env.REACT_APP_API_URL||'http://localhost:5000';import Login from'./components/Login';import Register from'./components/Register';import ItemList from'./components/ItemList';import ItemDetail from'./components/ItemDetail';import CreateItem from'./components/CreateItem';import Requests from'./components/Requests';import MyItems from'./components/MyItems';import EditItem from'./components/EditItem';import Profile from'./components/Profile';import PublicProfile from'./components/PublicProfile';import Messages from'./components/Messages';import Appointments from'./components/Appointments';import ForgotPassword from'./components/ForgotPassword';import Navbar from'./components/Navbar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const token=localStorage.getItem('token');const userData=localStorage.getItem('user');if(token&&userData){setUser(JSON.parse(userData));axios.defaults.headers.common['Authorization']=`Bearer ${token}`;}setLoading(false);},[]);const login=(token,userData)=>{localStorage.setItem('token',token);localStorage.setItem('user',JSON.stringify(userData));axios.defaults.headers.common['Authorization']=`Bearer ${token}`;setUser(userData);};const logout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');delete axios.defaults.headers.common['Authorization'];setUser(null);};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',position:'relative'},children:[/*#__PURE__*/_jsx(\"video\",{autoPlay:true,muted:true,loop:true,playsInline:true,style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',objectFit:'cover',zIndex:-2},children:/*#__PURE__*/_jsx(\"source\",{src:\"/3combine.mp4\",type:\"video/mp4\"})}),/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',background:'rgba(102, 126, 234, 0.2)',zIndex:-1,pointerEvents:'none'}}),/*#__PURE__*/_jsx(Navbar,{user:user,logout:logout}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',maxWidth:'1200px',margin:'0 auto',position:'relative',zIndex:1},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ItemList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!user?/*#__PURE__*/_jsx(Login,{onLogin:login}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!user?/*#__PURE__*/_jsx(Register,{onLogin:login}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/forgot-password\",element:!user?/*#__PURE__*/_jsx(ForgotPassword,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/create\",element:user?/*#__PURE__*/_jsx(CreateItem,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/requests\",element:user?/*#__PURE__*/_jsx(Requests,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/my-items\",element:user?/*#__PURE__*/_jsx(MyItems,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/edit-item/:id\",element:user?/*#__PURE__*/_jsx(EditItem,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:user?/*#__PURE__*/_jsx(Profile,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user/:userId\",element:/*#__PURE__*/_jsx(PublicProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/messages\",element:user?/*#__PURE__*/_jsx(Messages,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/appointments\",element:user?/*#__PURE__*/_jsx(Appointments,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/item/:id\",element:/*#__PURE__*/_jsx(ItemDetail,{})})]})})]})});}export default App;// For production, set REACT_APP_API_URL to your backend URL","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","axios","defaults","baseURL","process","env","REACT_APP_API_URL","Login","Register","ItemList","ItemDetail","CreateItem","Requests","MyItems","EditItem","Profile","PublicProfile","Messages","Appointments","ForgotPassword","Navbar","jsx","_jsx","jsxs","_jsxs","App","user","setUser","loading","setLoading","token","localStorage","getItem","userData","JSON","parse","headers","common","login","setItem","stringify","logout","removeItem","children","style","minHeight","position","autoPlay","muted","loop","playsInline","top","left","width","height","objectFit","zIndex","src","type","background","pointerEvents","padding","maxWidth","margin","path","element","onLogin","to"],"sources":["D:/Project/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport axios from 'axios';\n\n// Set API base URL\naxios.defaults.baseURL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport ItemList from './components/ItemList';\nimport ItemDetail from './components/ItemDetail';\nimport CreateItem from './components/CreateItem';\nimport Requests from './components/Requests';\nimport MyItems from './components/MyItems';\nimport EditItem from './components/EditItem';\nimport Profile from './components/Profile';\nimport PublicProfile from './components/PublicProfile';\nimport Messages from './components/Messages';\nimport Appointments from './components/Appointments';\nimport ForgotPassword from './components/ForgotPassword';\nimport Navbar from './components/Navbar';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    if (token && userData) {\n      setUser(JSON.parse(userData));\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n    setLoading(false);\n  }, []);\n\n  const login = (token, userData) => {\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(userData));\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    setUser(userData);\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    delete axios.defaults.headers.common['Authorization'];\n    setUser(null);\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <Router>\n      <div style={{ minHeight: '100vh', position: 'relative' }}>\n        <video \n          autoPlay \n          muted \n          loop \n          playsInline\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover',\n            zIndex: -2\n          }}\n        >\n          <source src=\"/3combine.mp4\" type=\"video/mp4\" />\n        </video>\n        <div \n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'rgba(102, 126, 234, 0.2)',\n            zIndex: -1,\n            pointerEvents: 'none'\n          }}\n        />\n        <Navbar user={user} logout={logout} />\n        <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto', position: 'relative', zIndex: 1 }}>\n          <Routes>\n            <Route path=\"/\" element={<ItemList />} />\n            <Route path=\"/login\" element={!user ? <Login onLogin={login} /> : <Navigate to=\"/\" />} />\n            <Route path=\"/register\" element={!user ? <Register onLogin={login} /> : <Navigate to=\"/\" />} />\n            <Route path=\"/forgot-password\" element={!user ? <ForgotPassword /> : <Navigate to=\"/\" />} />\n            <Route path=\"/create\" element={user ? <CreateItem /> : <Navigate to=\"/login\" />} />\n            <Route path=\"/requests\" element={user ? <Requests /> : <Navigate to=\"/login\" />} />\n            <Route path=\"/my-items\" element={user ? <MyItems /> : <Navigate to=\"/login\" />} />\n            <Route path=\"/edit-item/:id\" element={user ? <EditItem /> : <Navigate to=\"/login\" />} />\n            <Route path=\"/profile\" element={user ? <Profile /> : <Navigate to=\"/login\" />} />\n            <Route path=\"/user/:userId\" element={<PublicProfile />} />\n            <Route path=\"/messages\" element={user ? <Messages /> : <Navigate to=\"/login\" />} />\n            <Route path=\"/appointments\" element={user ? <Appointments /> : <Navigate to=\"/login\" />} />\n            <Route path=\"/item/:id\" element={<ItemDetail />} />\n          </Routes>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n\n// For production, set REACT_APP_API_URL to your backend URL"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}