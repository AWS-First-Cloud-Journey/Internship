{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\frontend\\\\src\\\\components\\\\PhoneVerification.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhoneVerification = ({\n  userId,\n  onVerified\n}) => {\n  _s();\n  const [code, setCode] = useState('');\n  const [timeLeft, setTimeLeft] = useState(60);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n  const handleVerify = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      await axios.post('/api/verify-phone', {\n        user_id: userId,\n        code: code\n      });\n      onVerified();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Verification failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '450px',\n      margin: '4rem auto',\n      padding: '3rem',\n      background: 'rgba(255, 255, 255, 0.95)',\n      backdropFilter: 'blur(20px)',\n      borderRadius: '24px',\n      boxShadow: '0 20px 60px rgba(0,0,0,0.15)',\n      border: '1px solid rgba(255, 255, 255, 0.2)',\n      animation: 'fadeInUp 0.8s ease-out'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '2.5rem',\n        fontSize: '2.5rem',\n        fontWeight: '700',\n        background: 'linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)',\n        WebkitBackgroundClip: 'text',\n        WebkitTextFillColor: 'transparent',\n        backgroundSize: '400% 400%',\n        animation: 'rainbow 3s ease-in-out infinite'\n      },\n      children: \"Verify Phone\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '2rem',\n        color: '#666'\n      },\n      children: \"Enter the 6-digit code sent to your phone\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginBottom: '1rem',\n        textAlign: 'center'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleVerify,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '1.5rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter 6-digit code\",\n          value: code,\n          onChange: e => setCode(e.target.value),\n          maxLength: \"6\",\n          style: {\n            width: '100%',\n            padding: '1rem',\n            border: '2px solid rgba(102, 126, 234, 0.2)',\n            borderRadius: '12px',\n            fontSize: '1.2rem',\n            textAlign: 'center',\n            letterSpacing: '0.5rem',\n            transition: 'all 0.3s ease',\n            background: 'rgba(255, 255, 255, 0.8)',\n            outline: 'none'\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '1.5rem'\n        },\n        children: timeLeft > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#666'\n          },\n          children: [\"Code expires in \", timeLeft, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#e74c3c'\n          },\n          children: \"Code expired\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading || timeLeft === 0,\n        style: {\n          width: '100%',\n          padding: '1rem',\n          background: timeLeft === 0 ? '#95a5a6' : 'linear-gradient(135deg, #ff6b6b 0%, #feca57 100%)',\n          color: 'white',\n          border: 'none',\n          borderRadius: '12px',\n          cursor: timeLeft === 0 ? 'not-allowed' : 'pointer',\n          fontSize: '1.1rem',\n          fontWeight: '600',\n          transition: 'all 0.3s ease',\n          boxShadow: timeLeft === 0 ? 'none' : '0 4px 15px rgba(255, 107, 107, 0.6)'\n        },\n        children: loading ? 'Verifying...' : 'Verify Phone'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(PhoneVerification, \"ZbwtBwvSr0oNF9vI/CkeZ5qa/kQ=\");\n_c = PhoneVerification;\nexport default PhoneVerification;\nvar _c;\n$RefreshReg$(_c, \"PhoneVerification\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","PhoneVerification","userId","onVerified","_s","code","setCode","timeLeft","setTimeLeft","error","setError","loading","setLoading","timer","setInterval","prev","clearInterval","handleVerify","e","preventDefault","post","user_id","_error$response","_error$response$data","response","data","message","style","maxWidth","margin","padding","background","backdropFilter","borderRadius","boxShadow","border","animation","children","textAlign","marginBottom","fontSize","fontWeight","WebkitBackgroundClip","WebkitTextFillColor","backgroundSize","fileName","_jsxFileName","lineNumber","columnNumber","color","onSubmit","type","placeholder","value","onChange","target","maxLength","width","letterSpacing","transition","outline","required","disabled","cursor","_c","$RefreshReg$"],"sources":["D:/Project/frontend/src/components/PhoneVerification.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst PhoneVerification = ({ userId, onVerified }) => {\n  const [code, setCode] = useState('');\n  const [timeLeft, setTimeLeft] = useState(60);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  const handleVerify = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      await axios.post('/api/verify-phone', {\n        user_id: userId,\n        code: code\n      });\n      onVerified();\n    } catch (error) {\n      setError(error.response?.data?.message || 'Verification failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ \n      maxWidth: '450px', \n      margin: '4rem auto', \n      padding: '3rem', \n      background: 'rgba(255, 255, 255, 0.95)', \n      backdropFilter: 'blur(20px)',\n      borderRadius: '24px', \n      boxShadow: '0 20px 60px rgba(0,0,0,0.15)',\n      border: '1px solid rgba(255, 255, 255, 0.2)',\n      animation: 'fadeInUp 0.8s ease-out'\n    }}>\n      <h2 style={{ \n        textAlign: 'center', \n        marginBottom: '2.5rem',\n        fontSize: '2.5rem',\n        fontWeight: '700',\n        background: 'linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)',\n        WebkitBackgroundClip: 'text',\n        WebkitTextFillColor: 'transparent',\n        backgroundSize: '400% 400%',\n        animation: 'rainbow 3s ease-in-out infinite'\n      }}>Verify Phone</h2>\n      \n      <p style={{ textAlign: 'center', marginBottom: '2rem', color: '#666' }}>\n        Enter the 6-digit code sent to your phone\n      </p>\n      \n      {error && <div style={{ color: 'red', marginBottom: '1rem', textAlign: 'center' }}>{error}</div>}\n      \n      <form onSubmit={handleVerify}>\n        <div style={{ marginBottom: '1.5rem' }}>\n          <input\n            type=\"text\"\n            placeholder=\"Enter 6-digit code\"\n            value={code}\n            onChange={(e) => setCode(e.target.value)}\n            maxLength=\"6\"\n            style={{ \n              width: '100%', \n              padding: '1rem', \n              border: '2px solid rgba(102, 126, 234, 0.2)', \n              borderRadius: '12px',\n              fontSize: '1.2rem',\n              textAlign: 'center',\n              letterSpacing: '0.5rem',\n              transition: 'all 0.3s ease',\n              background: 'rgba(255, 255, 255, 0.8)',\n              outline: 'none'\n            }}\n            required\n          />\n        </div>\n        \n        <div style={{ textAlign: 'center', marginBottom: '1.5rem' }}>\n          {timeLeft > 0 ? (\n            <span style={{ color: '#666' }}>Code expires in {timeLeft}s</span>\n          ) : (\n            <span style={{ color: '#e74c3c' }}>Code expired</span>\n          )}\n        </div>\n        \n        <button \n          type=\"submit\" \n          disabled={loading || timeLeft === 0}\n          style={{ \n            width: '100%', \n            padding: '1rem', \n            background: timeLeft === 0 ? '#95a5a6' : 'linear-gradient(135deg, #ff6b6b 0%, #feca57 100%)', \n            color: 'white', \n            border: 'none', \n            borderRadius: '12px', \n            cursor: timeLeft === 0 ? 'not-allowed' : 'pointer',\n            fontSize: '1.1rem',\n            fontWeight: '600',\n            transition: 'all 0.3s ease',\n            boxShadow: timeLeft === 0 ? 'none' : '0 4px 15px rgba(255, 107, 107, 0.6)'\n          }}\n        >\n          {loading ? 'Verifying...' : 'Verify Phone'}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default PhoneVerification;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}