{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\frontend\\\\src\\\\components\\\\Navbar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Navbar = ({\n  user,\n  logout\n}) => {\n  _s();\n  const [requestCount, setRequestCount] = useState(0);\n  useEffect(() => {\n    if (user) {\n      fetchRequestCount();\n\n      // Set up auto-refresh for request count every 10 seconds\n      const interval = setInterval(() => {\n        fetchRequestCount();\n      }, 10000);\n      return () => clearInterval(interval);\n    }\n  }, [user]);\n\n  // Listen for request count updates\n  useEffect(() => {\n    const handleRequestUpdate = () => {\n      if (user) {\n        fetchRequestCount();\n      }\n    };\n    window.addEventListener('requestCountUpdate', handleRequestUpdate);\n    return () => window.removeEventListener('requestCountUpdate', handleRequestUpdate);\n  }, [user]);\n  const fetchRequestCount = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('/api/requests/count', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setRequestCount(response.data.pending_received);\n    } catch (error) {\n      console.error('Error fetching request count:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    style: {\n      backgroundColor: '#2c3e50',\n      padding: '1rem 2rem',\n      color: 'white',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      style: {\n        color: 'white',\n        textDecoration: 'none',\n        fontSize: '1.5rem',\n        fontWeight: 'bold'\n      },\n      children: \"Item Exchange\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '1rem',\n        alignItems: 'center'\n      },\n      children: user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Welcome, \", user.username, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/requests\",\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            position: 'relative',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem'\n          },\n          children: [\"Requests\", requestCount > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                backgroundColor: '#e74c3c',\n                color: 'white',\n                borderRadius: '50%',\n                width: '20px',\n                height: '20px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '0.8rem',\n                fontWeight: 'bold'\n              },\n              children: requestCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#e74c3c',\n                fontSize: '1.2rem',\n                fontWeight: 'bold'\n              },\n              children: \"!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/my-items\",\n          style: {\n            color: 'white',\n            textDecoration: 'none'\n          },\n          children: \"My Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profile\",\n          style: {\n            color: 'white',\n            textDecoration: 'none'\n          },\n          children: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/create\",\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            padding: '0.5rem 1rem',\n            backgroundColor: '#3498db',\n            borderRadius: '4px'\n          },\n          children: \"Post Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          style: {\n            padding: '0.5rem 1rem',\n            backgroundColor: '#e74c3c',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          style: {\n            color: 'white',\n            textDecoration: 'none'\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          style: {\n            color: 'white',\n            textDecoration: 'none'\n          },\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(Navbar, \"dJ/XXFjRA+rsKKZSAD87fbaJWaQ=\");\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useState","useEffect","Link","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","user","logout","_s","requestCount","setRequestCount","fetchRequestCount","interval","setInterval","clearInterval","handleRequestUpdate","window","addEventListener","removeEventListener","token","localStorage","getItem","response","get","headers","data","pending_received","error","console","style","backgroundColor","padding","color","display","justifyContent","alignItems","children","to","textDecoration","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","gap","username","position","borderRadius","width","height","onClick","border","cursor","_c","$RefreshReg$"],"sources":["D:/Project/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Navbar = ({ user, logout }) => {\n  const [requestCount, setRequestCount] = useState(0);\n\n  useEffect(() => {\n    if (user) {\n      fetchRequestCount();\n      \n      // Set up auto-refresh for request count every 10 seconds\n      const interval = setInterval(() => {\n        fetchRequestCount();\n      }, 10000);\n      \n      return () => clearInterval(interval);\n    }\n  }, [user]);\n\n  // Listen for request count updates\n  useEffect(() => {\n    const handleRequestUpdate = () => {\n      if (user) {\n        fetchRequestCount();\n      }\n    };\n    \n    window.addEventListener('requestCountUpdate', handleRequestUpdate);\n    return () => window.removeEventListener('requestCountUpdate', handleRequestUpdate);\n  }, [user]);\n\n  const fetchRequestCount = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('/api/requests/count', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      setRequestCount(response.data.pending_received);\n    } catch (error) {\n      console.error('Error fetching request count:', error);\n    }\n  };\n  return (\n    <nav style={{\n      backgroundColor: '#2c3e50',\n      padding: '1rem 2rem',\n      color: 'white',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    }}>\n      <Link to=\"/\" style={{ color: 'white', textDecoration: 'none', fontSize: '1.5rem', fontWeight: 'bold' }}>\n        Item Exchange\n      </Link>\n      <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n        {user ? (\n          <>\n            <span>Welcome, {user.username}!</span>\n            <Link to=\"/requests\" style={{ color: 'white', textDecoration: 'none', position: 'relative', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              Requests\n              {requestCount > 0 && (\n                <>\n                  <span style={{\n                    backgroundColor: '#e74c3c',\n                    color: 'white',\n                    borderRadius: '50%',\n                    width: '20px',\n                    height: '20px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontSize: '0.8rem',\n                    fontWeight: 'bold'\n                  }}>\n                    {requestCount}\n                  </span>\n                  <span style={{ color: '#e74c3c', fontSize: '1.2rem', fontWeight: 'bold' }}>!</span>\n                </>\n              )}\n            </Link>\n            <Link to=\"/my-items\" style={{ color: 'white', textDecoration: 'none' }}>\n              My Items\n            </Link>\n            <Link to=\"/profile\" style={{ color: 'white', textDecoration: 'none' }}>\n              Profile\n            </Link>\n            <Link to=\"/create\" style={{ color: 'white', textDecoration: 'none', padding: '0.5rem 1rem', backgroundColor: '#3498db', borderRadius: '4px' }}>\n              Post Item\n            </Link>\n            <button onClick={logout} style={{ padding: '0.5rem 1rem', backgroundColor: '#e74c3c', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\n              Logout\n            </button>\n          </>\n        ) : (\n          <>\n            <Link to=\"/login\" style={{ color: 'white', textDecoration: 'none' }}>Login</Link>\n            <Link to=\"/register\" style={{ color: 'white', textDecoration: 'none' }}>Register</Link>\n          </>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}