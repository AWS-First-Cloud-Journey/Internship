# Worklog - Ngày 26/06/2025

## 📅 Thông tin cơ bản
- **Ngày**: 26/06/2025
- **Thứ**: 5
- **Tuần thực tập**: 7
- **Thời gian làm việc**: 9:00 - 17:00
- **Mood**: 😐

## 🎯 Mục tiêu ngày hôm nay
- [x] Mục tiêu 1: Xây dựng pipeline đơn giản lưu trữ mã nguồn trên S3  
- [x] Mục tiêu 2: Sử dụng CodeDeploy để triển khai lên EC2 instance
- [x] Mục tiêu 3: Kiểm tra triển khai bằng cách truy cập public IP

## 💼 Công việc đã thực hiện

### 1. Tạo S3 bucket và upload mã nguồn ⏱️ 9:00 - 10:00
- **Mô tả**: Tạo S3 bucket `my-cicd-source-demo`, cấu trúc mã nguồn có file `appspec.yml` và `scripts/`  
- **Kết quả**: Bucket được tạo thành công, mã nguồn được upload đúng cấu trúc CodeDeploy yêu cầu  
- **Tools/Tech**: S3, appspec.yml, bash script, zip archive 
- **Links**: N/A

### 2. Tạo EC2 instance làm môi trường deploy ⏱️ 10:00 - 12:00
- **Mô tả**: Tạo EC2 (Amazon Linux 2), mở cổng HTTP (80), cài đặt agent CodeDeploy  
- **Kết quả**: Instance hoạt động, CodeDeploy Agent active  
- **Tools/Tech**: EC2, IAM role cho instance, CodeDeploy Agent 
- **Links**: N/A

### 3. Cấu hình IAM Role `AWSCodeDeployRole` ⏱️ 13:00 - 14:00
- **Mô tả**: Tạo IAM role dành cho CodeDeploy với policy `AWSCodeDeployRole`  
- **Kết quả**: Gán role thành công cho CodeDeploy application  
- **Tools/Tech**: IAM, AWSCodeDeployRole, Trust Policy  
- **Links**: N/A

### 4. Tạo Application & Deployment Group ⏱️ 14:00 - 15:00
- **Mô tả**: Tạo ứng dụng trong CodeDeploy, deployment group chỉ định EC2 instance theo tag  
- **Kết quả**: Kết nối deployment group với EC2 thành công  
- **Tools/Tech**: CodeDeploy, Deployment Group, Tag-based EC2 targeting  
- **Links**: N/A

### 5. Tạo Pipeline sử dụng S3 là source ⏱️ 15:00 -1 6:30 
- **Mô tả**:
  - Tạo pipeline gồm các bước:
    1. **Source**: S3  
    2. **Deploy**: AWS CodeDeploy  
- **Kết quả**: Mỗi khi upload file zip mới vào S3 → pipeline tự động chạy và deploy  
- **Tools/Tech**: CodePipeline, CodeDeploy, S3 Trigger, AppSpec  
- **Links**: N/A

### 6. Kiểm tra kết quả bằng public IP của EC2 ⏱️ 16:30 - 17:00
- **Mô tả**: Truy cập EC2 qua địa chỉ IP public để kiểm tra nội dung file được deploy  
- **Kết quả**: Ứng dụng mẫu hiển thị đúng → deploy thành công  
- **Tools/Tech**: EC2, Web browser, curl
- **Links**: N/A

## 📚 Kiến thức học được

### 🔧 Technical Skills
- **AWS Services**: S3, EC2, IAM, CodeDeploy, CodePipeline  
- **CI/CD Practice**: Triển khai ứng dụng từ S3 lên EC2  
- **Infrastructure**: Sử dụng tag để target EC2 trong deployment group  

### 💡 Concepts & Theory
- **New Concepts**: 
  - AppSpec.yml và lifecycle hooks trong CodeDeploy  
  - Pipeline không bắt buộc phải dùng GitHub – có thể dùng S3 làm source 
- **Best Practices**: Zip file cần có đúng cấu trúc (appspec.yml, scripts/, source/)
- **Industry Knowledge**: N/A

### 🤝 Soft Skills
- **Communication**: N/A
- **Problem Solving**: Analytical thinking, debugging
- **Time Management**: Planning, prioritization
- **Learning**: Research skills, self-learning

## 🚧 Khó khăn và giải pháp

### Vấn đề: CodeDeploy báo lỗi "ApplicationStop failed"
- **Mô tả**: Script `ApplicationStop` không tồn tại dẫn đến lỗi fail deploy  
- **Solution**: Sửa lại `appspec.yml` loại bỏ hook không dùng hoặc thêm file script rỗng  
- **Result**: Deploy thành công sau khi cập nhật  
- **Lesson**: AppSpec.yml cần chính xác, chỉ định đúng các script thật sự sử dụng

## 💭 Reflection & Insights

### What went well today?
- Tạo pipeline hoạt động với S3 và CodeDeploy  
- Hiểu rõ cơ chế hoạt động của `Deployment Group` và `AppSpec`

### What could be improved?
- Cần tự động hóa việc zip source và upload lên S3  
- Có thể dùng SNS hoặc EventBridge để gửi thông báo khi deploy thành công/thất bại

### Key Insights
- S3 là lựa chọn đơn giản, hiệu quả khi không cần tích hợp GitHub  

### Questions & Curiosities: N/A

## 📋 Kế hoạch ngày mai

### Priority Tasks
- [ ] **High**: Tìm hiểu kết hợp CI/CD pipeline với workshop đã tạo
- [ ] **Medium**: N/A
- [ ] **Low**: N/A

### Learning Goals
- Tìm hiểu các hook trong AppSpec.yml: `ValidateService`, `AfterInstall`, `ApplicationStart`

### Meetings & Deadlines: N/A

## 📊 Self Assessment

### Productivity
- **Score**: 8
- **Reason**: Hoàn thành từ đầu đến cuối pipeline với S3 + EC2 + CodeDeploy
- **Improvement**: N/A

### Learning
- **Score**: 9
- **New Knowledge**: AppSpec.yml, lifecycle hooks, S3-triggered pipeline
- **Application**: Có thể áp dụng cho các ứng dụng nội bộ không dùng GitHub

### Collaboration
- **Score**: 7.5
- **Interactions**: Tự thực hiện phần lớn
- **Contributions**: N/A

### Overall Satisfaction
- **Score**: 9
- **Highlights**: Deploy thành công, code hoạt động ngay trên EC2 
- **Areas for Growth**: Hướng tới CI/CD có kiểm thử, rollback

## 📎 Attachments & Links

### Code & Projects: N/A

### Learning Resources
[Tutorial: Create a simple pipeline (S3 bucket)](https://docs.aws.amazon.com/codepipeline/latest/userguide/tutorials-simple-s3.html)

### Screenshots & Demos: N/A

---

**📝 Notes for tomorrow:**
[Ghi chú quan trọng cho ngày mai]

**🎯 Week Progress:**
[Tiến độ so với mục tiêu tuần]

---
*Worklog created by: Vũ Quang Huy*  
*Next review: 27/06/2025s*
