# Worklog - Ngày 23/06/2025

## 📅 Thông tin cơ bản
- **Ngày**: 23/06/2025
- **Thứ**: 2
- **Tuần thực tập**: 7
- **Thời gian làm việc**: 8:00 - 17:00
- **Mood**: 😊

## 🎯 Mục tiêu ngày hôm nay
- [x] Mục tiêu 1: Tìm hiểu AWS CodePipeline và các thành phần liên quan 
- [X] Mục tiêu 2: Kết nối CodePipeline với GitHub để trigger build 
- [x] Mục tiêu 3: Tạo pipeline tự động build image, push lên ECR, và deploy bằng ECS

## 💼 Công việc đã thực hiện

### 1. Tìm hiểu các dịch vụ CI/CD trên AWS  ⏱️ 9:00 - 12:00
- **Mô tả**: Nắm tổng quan về CodePipeline, CodeBuild, CodeDeploy, ECR, ECS  
- **Kết quả**:
  - Hiểu được cách CodePipeline kết hợp với các dịch vụ còn lại để tạo thành chuỗi CI/CD hoàn chỉnh  
  - Phân biệt rõ vai trò từng dịch vụ  
- **Tools/Tech**: AWS CodePipeline, CodeBuild, CodeDeploy, ECR, ECS, IAM  
- **Links**:  
  - [AWS CI/CD Services Overview](https://docs.aws.amazon.com/codepipeline/latest/userguide/welcome.html)

### 2. Kết nối CodePipeline với GitHub ⏱️ 13:00 - 14:00
- **Mô tả**: Thiết lập GitHub connection (OAuth), lựa chọn repository và branch  
- **Kết quả**: Pipeline có thể phát hiện thay đổi và trigger tự động khi push code  
- **Tools/Tech**: GitHub, AWS CodePipeline, OAuth Token 
- **Links**: N/A

### 3. Triển khai CI/CD Pipeline hoàn chỉnh ⏱️ 14:00 - 17:00
- **Mô tả**: 
  - Tạo pipeline gồm các bước:
    1. **Source**: GitHub  
    2. **Build**: CodeBuild (build Docker image, push lên ECR)  
    3. **Deploy**: ECS (Fargate) cập nhật dịch vụ chạy image mới  
- **Kết quả**: Đẩy code mới lên GitHub → pipeline build image mới → đẩy lên ECR → ECS tự động cập nhật và chạy task mới  
- **Tools/Tech**: CodePipeline, CodeBuild, ECR, ECS Fargate, IAM Roles, Docker
- **Links**: [Sample App](https://github.com/ConKhiPecPeC/sample-apps.git)

## 📚 Kiến thức học được

### 🔧 Technical Skills
- **AWS Services**: CodePipeline, CodeBuild, ECR, ECS (Fargate), IAM  
- **CI/CD Practice**: GitHub-triggered deployment, automated container image build  
- **Infrastructure**: Kết nối ECR → ECS → cập nhật task definition  

### 💡 Concepts & Theory
- **New Concepts**: 
  - Buildspec.yml: chỉ định các bước trong quá trình build  
  - ECS task definition revision update tự động từ CodePipeline
- **Best Practices**: 
  - Sử dụng IAM Role rõ ràng cho từng service
  - Tách riêng các giai đoạn để dễ debug
- **Industry Knowledge**: N/A

### 🤝 Soft Skills
- **Communication**: N/A
- **Problem Solving**: debugging, troubeshooting
- **Time Management**: N/A
- **Learning**: Research skills, self-learning

## 🚧 Khó khăn và giải pháp

### Vấn đề: Build không push được image lên ECR
- **Mô tả**: CodeBuild không có quyền push image  
- **Impact**: Pipeline build thành công nhưng deploy thất bại  
- **Solution**: Cập nhật IAM role của CodeBuild để thêm quyền `ecr:PutImage`, `ecr:BatchCheckLayerAvailability`, `ecr:CompleteLayerUpload`,...  
- **Result**: Push thành công sau khi gán đủ quyền  
- **Lesson**: IAM cho CodeBuild cần kỹ lưỡng, nên test riêng từng bước

## 💭 Reflection & Insights

### What went well today?
- Thiết lập pipeline CI/CD hoàn chỉnh chạy thực tế  
- Hiểu rõ cách kết nối giữa các thành phần CodePipeline
  
### What could be improved?
- Nên tách riêng các môi trường (dev/staging/prod) trong tương lai 

### Key Insights
 - CI/CD với ECS có thể triển khai gọn trong CodePipeline với cấu hình phù hợp

### Questions & Curiosities - N/A

## 📋 Kế hoạch ngày mai

### Priority Tasks
- [ ] **High**: Làm hand-on lab 15 - Triển khai ứng dụng trên Docker với AWS
- [ ] **Medium**: N/A
- [ ] **Low**: N/A

### Learning Goals: N/A

### Meetings & Deadlines: N/A

## 📊 Self Assessment

### Productivity
- **Score**: 9
- **Reason**: Thiết lập pipeline hoàn chỉnh, xử lý được sự cố IAM
- **Improvement**: N/A

### Learning
- **Score**: 9
- **New Knowledge**: Toàn bộ chuỗi CI/CD với ECS
- **Application**: N/A

### Collaboration
- **Score**: 6
- **Interactions**: Hỏi mentor về quyền IAM cho CodeBuild, tham khảo pipeline mẫu
- **Contributions**: N/A

### Overall Satisfaction
- **Score**: 9
- **Highlights**: Push code lên GitHub là hệ thống tự build-deploy
- **Areas for Growth**: Tăng cường bảo mật pipeline

## 📎 Attachments & Links

### Code & Projects
- [Sample App](https://github.com/ConKhiPecPeC/sample-apps.git)

### Learning Resources
- [Build Docker images with CodeBuild](https://docs.aws.amazon.com/codebuild/latest/userguide/sample-docker.html)  
- [CI/CD with ECS Fargate](https://docs.aws.amazon.com/AmazonECS/latest/userguide/ecs-cd-pipeline.html)

### Screenshots & Demos: N/A

---

**📝 Notes for tomorrow:**
[Ghi chú quan trọng cho ngày mai]

**🎯 Week Progress:**
[Tiến độ so với mục tiêu tuần]

---
*Worklog created by: Vũ Quang Huy*  
*Next review: 24/06/2025*
